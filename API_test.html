<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API Test</title>
</head>
<body>

    <div id="drug-display">

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">

        //RxCUI and RxNormID are the same

        //var to hold API to get drug RxCUI code
//        var getRxCUI = "https://rxnav.nlm.nih.gov/REST/rxcui?name=";

        //vars to hold API to get list of drugs that interact with ONE drug <-- only for patients with one drug and being
        //prescribed another
//        var getInteractionOneDrugBeginning = "https://rxnav.nlm.nih.gov/REST/interaction/interaction.json?rxcui=";
//        var getInteractionOneDrugEnd = "&sources=ONCHigh";

        //var to hold API to get list of interactions for ALL drugs patient is taking
//        var getInteractionList = "https://rxnav.nlm.nih.gov/REST/interaction/list.json?rxcuis=";


        var getDrugInfo = "https://rxnav.nlm.nih.gov/REST/drugs.json?name=";

        //ajax for getting RxCUI code
        //test variable
        var drug = "effexor";
        getDrugInfo += drug;
        $.ajax({
            url: getDrugInfo,
            method: "GET"
        }).done(function(response){
            console.log(response);

            var drugList = response.drugGroup.conceptGroup[1].conceptProperties;
            console.log(drugList)
            for (var i = 0; i < drugList.length; i++) {
                var drugName = drugList[i].name;
                var rxcui = drugList[i].rxcui;
                console.log(drugName);
                console.log(rxcui);
            }
        });
    </script>
</body>
</html>